<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Product</title>
    <style>
        body { background-color: #d1dfc7; font-family: Arial, sans-serif; }
        .container { width: 80%; margin: auto; padding: 20px; background: #ebf0e9; }
        .header { display: flex; justify-content: space-between; align-items: center; }
        .search-bar { display: flex; align-items: center; background: #f7eccd; padding: 10px; }
        .search-bar img { height: 30px; margin-right: 10px; }
        .search-bar input { flex: 1; padding: 8px; }
        .filters { background: #f0e7cc; padding: 10px; margin-top: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid black; padding: 8px; text-align: left; }
        th { background: #b8ccbe; }
        button { background: #f7a98b; border: none; padding: 10px 15px; cursor: pointer; }
        .product-image { width: 70px; height: 70px; object-fit: contain; }
        .filter-label { font-weight: bold; margin-bottom: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>View Product</h2>
            <button onclick="window.location.href='dashboard.html'" class="back-button">Back</button>	
        </div>
        
        <div class="search-bar">
            <img src="spgg/search.jpg" alt="search icon">
            <input type="text" id="search" placeholder="Search product name" onkeyup="filterProducts()">
        </div>

        <div class="filters">
			<b>Filter category: </b>
			<b style="color: #eee7ca;">Filter</b>
            <input type="checkbox" id="all" checked onchange="filterProducts()"> All  
            <input type="checkbox" id="beverage" onchange="filterProducts()"> Beverage
            <input type="checkbox" id="snack" onchange="filterProducts()"> Snack
            <input type="checkbox" id="fresh" onchange="filterProducts()"> Fresh Produce
            <input type="checkbox" id="meat" onchange="filterProducts()"> Meat & Seafood
            <br>
        </div>
        <table id="productTable">
            <tr>
                <th>#</th>
                <th>Image</th>
                <th>Name</th>
                <th>Category</th>
                <th>In-stock</th>
                <th>Sold</th>
                <th>Price</th>
                <th>Expiry Date</th>
            </tr>
            <tr data-category="Beverage">
                <td>1</td>
                <td><img src="spgg/1.jpg" class="product-image" alt="Product Image"></td>
                <td>A&W Root Beer</td>
                <td>Beverage</td>
                <td>12</td>
                <td>3</td>
                <td>RM 2.50<S/td>
                <td>2025-09-08</td>
            </tr>
            <tr data-category="Beverage">
                <td>2</td>
                <td><img src="spgg/2.jpeg" class="product-image" alt="Product Image"></td>
                <td>Mineral Water</td>
                <td>Beverage</td>
                <td>33</td>
                <td>4</td>
                <td>RM 1.20</td>
                <td>2026-05-10</td>
            </tr>
            <tr data-category="Beverage">
                <td>3</td>
                <td><img src="spgg/3.jpg" class="product-image" alt="Product Image"></td>
                <td>Milk</td>
                <td>Beverage</td>
                <td>6</td>
                <td>5</td>
                <td>RM 5.00</td>
                <td>2025-04-17</td>
            </tr>
            <tr data-category="Snack">
                <td>4</td>
                <td><img src="spgg/4.jpeg" class="product-image" alt="Product Image"></td>
                <td>Mi-Mi</td>
                <td>Snack</td>
                <td>10</td>
                <td>6</td>
                <td>RM 1.50</td>
                <td>2025-05-09</td>
            </tr>
            <tr data-category="Snack">
                <td>5</td>
                <td><img src="spgg/5.jpeg" class="product-image" alt="Product Image"></td>
                <td>Biscuit</td>
                <td>Snack</td>
                <td>32</td>
                <td>17</td>
                <td>RM 3.00</td>
                <td>2026-10-01</td>
            </tr>
            <tr data-category="Snack">
                <td>6</td>
                <td><img src="spgg/6.png" class="product-image" alt="Product Image"></td>
                <td>Bread</td>
                <td>Snack</td>
                <td>1</td>
                <td>8</td>
                <td>RM 3.00</td>
                <td>2025-04-18</td>
            </tr>
            <tr data-category="Meat & Seafood">
                <td>7</td>
                <td><img src="spgg/7.jpeg" class="product-image" alt="Product Image"></td>
                <td>Shrimp</td>
                <td>Meat & Seafood</td>
                <td>22</td>
                <td>9</td>
                <td>RM 15.00</td>
                <td>2025-04-13</td>
            </tr>
            <tr data-category="Meat & Seafood">
                <td>8</td>
                <td><img src="spgg/8.jpg" class="product-image" alt="Product Image"></td>
                <td>Fish</td>
                <td>Meat & Seafood</td>
                <td>12</td>
                <td>7</td>
                <td>RM 12.00</td>
                <td>2025-04-13</td>
            </tr>
            <tr data-category="Meat & Seafood">
                <td>9</td>
                <td><img src="spgg/9.jpeg" class="product-image" alt="Product Image"></td>
                <td>Chicken</td>
                <td>Meat & Seafood</td>
                <td>3</td>
                <td>4</td>
                <td>RM 10.00</td>
                <td>2025-04-11</td>
            </tr>
            <tr data-category="Fresh Produce">
                <td>10</td>
                <td><img src="spgg/10.jpeg" class="product-image" alt="Product Image"></td>
                <td>Apple</td>
                <td>Fresh Produce</td>
                <td>18</td>
                <td>2</td>
                <td>RM 1.80</td>
                <td>2025-05-02</td>
            </tr>
            <tr data-category="Fresh Produce">
                <td>11</td>
                <td><img src="spgg/11.jpeg" class="product-image" alt="Product Image"></td>
                <td>Carrot</td>
                <td>Fresh Produce</td>
                <td>13</td>
                <td>1</td>
                <td>RM 2.00</td>
                <td>2025-05-07</td>
            </tr>
            <tr data-category="Fresh Produce">
                <td>12</td>
                <td><img src="spgg/12.jpeg" class="product-image" alt="Product Image"></td>
                <td>Onion</td>
                <td>Fresh Produce</td>
                <td>15</td>
                <td>6</td>
                <td>RM 1.50</td>
                <td>2025-05-10</td>
            </tr>
        </table>
    </div>
    <script>
        function filterProducts() {
            const searchText = document.getElementById('search').value.toLowerCase();
            const allChecked = document.getElementById('all').checked;
            const beverageChecked = document.getElementById('beverage').checked;
            const snackChecked = document.getElementById('snack').checked;
            const freshChecked = document.getElementById('fresh').checked;
            const meatChecked = document.getElementById('meat').checked;

            const rows = document.querySelectorAll('#productTable tr:not(:first-child)');
            rows.forEach(row => {
                const name = row.cells[2].textContent.toLowerCase();
                const category = row.dataset.category;
                const matchesCategory = allChecked || (category === "Beverage" && beverageChecked) ||
                                       (category === "Snack" && snackChecked) ||
                                       (category === "Fresh Produce" && freshChecked) ||
                                       (category === "Meat & Seafood" && meatChecked);
                row.style.display = (name.includes(searchText) && matchesCategory) ? '' : 'none';
            });
        }

        function clearFilters() {
            document.getElementById('search').value = '';
            document.getElementById('all').checked = true;
            document.getElementById('beverage').checked = false;
            document.getElementById('snack').checked = false;
            document.getElementById('fresh').checked = false;
            document.getElementById('meat').checked = false;
            filterProducts();
        }
    </script>
</body>
</html>